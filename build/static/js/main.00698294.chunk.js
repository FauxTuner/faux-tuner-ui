(this["webpackJsonpfaux-tuner-ui"]=this["webpackJsonpfaux-tuner-ui"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),o=(a(99),a(147)),i=a(47),u=a(11),m=a(157),s=a(158),d=a(44),f=a(148),E=a(142),p=a(145),h=a(146);function g(){var e=Object(u.f)(),t=Object(n.useCallback)((function(t,a){console.log(t),e.push(t)}),[e]);return r.a.createElement(E.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(p.a,{button:!0,onClick:function(){return t("/")}},r.a.createElement(h.a,{primary:"Home"})),r.a.createElement(p.a,{button:!0,onClick:function(){return t("/locast")}},r.a.createElement(h.a,{primary:"Locast"})),r.a.createElement(p.a,{button:!0,onClick:function(){return t("/plutotv")}},r.a.createElement(h.a,{primary:"Pluto.tv"})),r.a.createElement(p.a,{button:!0,onClick:function(){return t("/iptv")}},r.a.createElement(h.a,{primary:"IPTV & Custom Streams"})),r.a.createElement(p.a,{button:!0,onClick:function(){return t("/settings")}},r.a.createElement(h.a,{primary:"Settings"})))}var b=Object(o.a)((function(e){return{navMenu:{flexGrow:1,minWidth:120,maxWidth:220,flexShrink:0},mainContent:{flexGrow:1}}}));function v(e){var t=e.children,a=b();return r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,className:a.navMenu},r.a.createElement(g,null)),r.a.createElement(f.a,{item:!0,className:a.mainContent},t))}var C=a(34),j=a(21),y=a(29);function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}};return t.headers=Object(j.a)({},t.headers,{Accept:"application/json"}),t.body&&(t.headers=Object(j.a)({},t.headers,{"Content-Type":"application/json"}),t.body=JSON.stringify(t.body)),fetch("/api/".concat(e),t).then((function(e){return e.json()}))}var w=a(160),S=a(108),k=a(159),x=a(149),N=a(151),W=a(150),B=a(163),L=a(73),F=a.n(L),T=Object(o.a)((function(e){return{root:{maxWidth:640,margin:"auto"},header:{marginBottom:e.spacing(4)},form:{marginTop:e.spacing(2),"& > *":{marginBottom:e.spacing(2)}},warning:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function I(){var e=T(),t=Object(n.useState)(null),a=Object(y.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)({username:"",password:""}),i=Object(y.a)(o,2),u=i[0],m=i[1],s=Object(n.useCallback)((function(e,t){m(Object(j.a)({},u,Object(C.a)({},t,e.target.value)))}),[u,m]);Object(n.useEffect)((function(){O("locast/status").then((function(e){c(e)}))}),[c]);return l?r.a.createElement(w.a,{p:3},r.a.createElement(d.a,{className:e.header,variant:"h5",component:"h2"},"Locast Settings"),l.user?r.a.createElement("div",null,r.a.createElement(x.a,{className:e.root},r.a.createElement(W.a,null,r.a.createElement(d.a,null,"Signed in as: ",null===l||void 0===l?void 0:l.user.name),r.a.createElement(d.a,null,"Donation Active: ",function(){var e,t,a=Date.now();return console.log(a,null===(e=l.user)||void 0===e?void 0:e.donationExpire),(null===l||void 0===l?void 0:l.user.didDonate)&&(null===(t=l.user)||void 0===t?void 0:t.donationExpire)>a}()?"Yes":"No"))),r.a.createElement(d.a,{variant:"h5"},"Channel Lineup")):r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("submit",u),O("locast/login",{method:"POST",body:u}).then((function(e){console.log("response",e)}))}},r.a.createElement(x.a,{className:e.root},r.a.createElement(W.a,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h6",component:"h3"},"Connect your Locast.org account"),r.a.createElement(d.a,{variant:"body2"},"To access Locast channels available in your area with faux-tuner, you'll need an active Locast account."),r.a.createElement(B.a,{size:"small",className:e.warning,icon:r.a.createElement(F.a,{size:"small"}),label:"We do not store this information."}),r.a.createElement("div",{className:e.form},r.a.createElement(k.a,{onChange:function(e){return s(e,"username")},fullWidth:!0,required:!0,autoComplete:"username",label:"Username"}),r.a.createElement(k.a,{onChange:function(e){return s(e,"password")},fullWidth:!0,required:!0,autoComplete:"current-password",type:"password",label:"Password"}))),r.a.createElement(N.a,null,r.a.createElement(S.a,{type:"submit",color:"primary"},"Login")))),r.a.createElement("pre",null,JSON.stringify(l,null,1))):null}function R(){return r.a.createElement(w.a,{p:3},r.a.createElement(d.a,{variant:"h5"},"Pluto.tv Settings"))}var D=a(76),P=a(164),G=a(154),U=a(156),q=a(162),A=a(152),J=a(155),M=a(153),z=a(74),H=a.n(z),V=a(75),Y=a.n(V),$=Object(o.a)((function(e){return{root:{maxWidth:640,margin:"auto"},header:{marginBottom:e.spacing(4)},form:{"& > *":{marginBottom:e.spacing(4)}},warning:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},input:{display:"none"},table:{width:"100%"},iconSquare:{width:100,height:100,backgroundColor:"#555",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",marginRight:e.spacing(3),"& > img":{width:"100%",height:"100%",objectFit:"contain"}},fileForm:{display:"flex",alignItems:"center"},urlForm:{display:"flex"}}}));function K(e){var t=$(),a=Object(n.useRef)(),l=e.onClose,c=e.open,o=Object(n.useState)({}),i=Object(y.a)(o,2),u=i[0],m=i[1],s=Object(n.useState)(0),f=Object(y.a)(s,2),E=f[0],p=f[1],h=Object(n.useCallback)((function(e,t){m(Object(j.a)({},u,Object(C.a)({},t,e.target.value)))}),[u,m]),g=Object(n.useCallback)((function(e){var t=e.target.files.length&&e.target.files[0];if(t){if(t.size>4e4)return alert("File must be under 40k.");var a=new FileReader;a.onload=function(){var e=a.result;m(Object(j.a)({},u,{image:e}))},a.readAsDataURL(t)}}),[u,m]),b=Object(n.useCallback)((function(e){p(e),m(Object(j.a)({},u,{image:null}))}),[p,m,u]),v=function(){l()};return r.a.createElement(q.a,{scroll:"paper",onClose:v,open:c},r.a.createElement(A.a,null,"Add Channel"),r.a.createElement(M.a,{dividers:!0},r.a.createElement("form",{id:"createform",onSubmit:function(e){e.preventDefault(),O("iptv/create",{method:"POST",body:u}).then((function(e){var t=e.channel;l(null,t)})).catch((function(e){console.log(e),l(e)}))}},r.a.createElement("div",{className:t.form},r.a.createElement(k.a,{autoFocus:!0,onChange:function(e){return h(e,"name")},fullWidth:!0,required:!0,label:"Name"}),r.a.createElement(k.a,{onChange:function(e){return h(e,"description")},fullWidth:!0,label:"Description"}),r.a.createElement(k.a,{onChange:function(e){return h(e,"url")},fullWidth:!0,required:!0,placeholder:"http://",label:"MPEGTS/HLS URL"}),r.a.createElement(d.a,null,"Channel Icon"),r.a.createElement(G.a,{variant:"contained"},r.a.createElement(S.a,{color:0===E?"primary":"default",onClick:function(){return b(0)},startIcon:r.a.createElement(H.a,null)},"File"),r.a.createElement(S.a,{color:1===E?"primary":"default",onClick:function(){return b(1)},startIcon:r.a.createElement(Y.a,null)},"URL")),0===E?r.a.createElement("div",{className:t.fileForm},r.a.createElement("div",null,r.a.createElement("div",{className:t.iconSquare},u.image&&r.a.createElement("img",{alt:"icon",src:u.image}))),r.a.createElement("input",{accept:"image/*",className:t.input,onChange:g,id:"contained-button-file",multiple:!0,type:"file"}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(S.a,{variant:"contained",component:"span"},"Upload Channel Icon"))):r.a.createElement("div",{className:t.urlForm},r.a.createElement(k.a,{fullWidth:!0,label:"Image URL",onChange:function(e){return h(e,"image")},placeholder:"http://"}))),r.a.createElement("input",{type:"submit",ref:a,style:{visibility:"hidden"}}))),r.a.createElement(J.a,null,r.a.createElement(S.a,{onClick:v},"Cancel"),r.a.createElement(S.a,{onClick:function(e){a.current.click()},color:"primary"},"Create")))}function Q(){$();var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(y.a)(c,2),i=o[0],u=o[1];Object(n.useEffect)((function(){O("iptv/channels").then((function(e){console.log(e.channels),l(e.channels)}))}),[l]);return r.a.createElement(w.a,{p:3},r.a.createElement(d.a,{variant:"h5"},"IPTV & Custom Streams"),r.a.createElement(S.a,{variant:"outlined",color:"primary",onClick:function(){u(!0)}},"Add Channel"),r.a.createElement(E.a,null,a&&a.map((function(e){return r.a.createElement(p.a,{button:!0,key:e.id},r.a.createElement(U.a,null,r.a.createElement(P.a,{src:e.iconUrl})),r.a.createElement(h.a,{primary:e.name,secondary:"Channel 3000.".concat(e.guide)}))}))),r.a.createElement(K,{open:i,onClose:function(e,t){console.log(e,t),l([].concat(Object(D.a)(a),[t])),u(!1)}}))}function X(){return r.a.createElement(w.a,{p:3},r.a.createElement(d.a,{variant:"h5"},"FauxTuner Settings"))}function Z(){return r.a.createElement(w.a,{p:3},r.a.createElement(d.a,{variant:"h5"},"Dashboard"))}var _=Object(o.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function ee(){var e=_();return r.a.createElement(i.a,{basename:"/web"},r.a.createElement("div",null,r.a.createElement(m.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(d.a,{variant:"h6",className:e.title},"faux-tuner"))),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/locast"},r.a.createElement(v,null,r.a.createElement(I,null))),r.a.createElement(u.a,{path:"/plutotv"},r.a.createElement(v,null,r.a.createElement(R,null))),r.a.createElement(u.a,{path:"/iptv"},r.a.createElement(v,null,r.a.createElement(Q,null))),r.a.createElement(u.a,{path:"/settings"},r.a.createElement(v,null,r.a.createElement(X,null))),r.a.createElement(u.a,{path:"/"},r.a.createElement(v,null,r.a.createElement(Z,null))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(106)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.00698294.chunk.js.map